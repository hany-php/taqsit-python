{% extends 'layouts/master.html' %}

{% block header_actions %}
<a href="{{ url_for('products.edit', id=product.id) }}" class="btn btn-primary">
    <span class="material-icons-round">edit</span>
    تعديل
</a>
{% endblock %}

{% block content %}
<div class="product-details">
    <div class="card">
        <div class="card-header">
            <h3>معلومات المنتج</h3>
        </div>
        <div class="card-body">
            <div class="details-grid">
                <div class="detail-item">
                    <span class="detail-label">اسم المنتج</span>
                    <span class="detail-value">{{ product.name }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">التصنيف</span>
                    <span class="detail-value">{{ product.category.name if product.category else '-' }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">الباركود</span>
                    <span class="detail-value">{{ product.barcode or '-' }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">رمز المنتج</span>
                    <span class="detail-value">{{ product.sku or '-' }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">السعر النقدي</span>
                    <span class="detail-value text-success">{{ format_money(product.cash_price) }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">سعر التقسيط</span>
                    <span class="detail-value text-primary">{{ format_money(product.installment_price) }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">سعر التكلفة</span>
                    <span class="detail-value">{{ format_money(product.cost_price) }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">هامش الربح</span>
                    <span class="detail-value text-info">{{ format_money(product.profit_margin) }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">الكمية المتوفرة</span>
                    <span class="detail-value {% if product.is_low_stock %}text-danger{% endif %}">
                        {{ product.quantity }}
                        {% if product.is_low_stock %}
                        <span class="material-icons-round" style="font-size: 16px;">warning</span>
                        {% endif %}
                    </span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">الحد الأدنى</span>
                    <span class="detail-value">{{ product.min_quantity }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">الماركة</span>
                    <span class="detail-value">{{ product.brand or '-' }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">الموديل</span>
                    <span class="detail-value">{{ product.model or '-' }}</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">الضمان</span>
                    <span class="detail-value">{{ product.warranty_months }} شهر</span>
                </div>
                
                <div class="detail-item">
                    <span class="detail-label">الحالة</span>
                    <span class="badge badge-{{ 'success' if product.is_active else 'danger' }}">
                        {{ 'نشط' if product.is_active else 'معطل' }}
                    </span>
                </div>
            </div>
            
            {% if product.description %}
            <div class="detail-item full-width">
                <span class="detail-label">الوصف</span>
                <p class="detail-value">{{ product.description }}</p>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
